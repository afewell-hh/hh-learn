<!--
  templateType: "page"
  isAvailableForNewContent: true
-->
{% extends "/CLEAN x HEDGEHOG/templates/layouts/base.html" %}

{% block head %}
  {{ super() }}

  {# Registration form specific styles #}
  <link rel="stylesheet" href="{{ get_asset_url('/CLEAN x HEDGEHOG/templates/assets/css/registration.css') }}">

  {# HubSpot Forms JavaScript #}
  <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>

  {# SEO metadata #}
  {#
    Issue #327 Fix: Inline constants instead of using request_json (which doesn't exist in HubL)
    HubL cannot fetch/parse JSON files server-side, so we inline the values directly.
    Source: clean-x-hedgehog-templates/config/constants.json
  #}
  {% set constants = {
    'HUBDB_MODULES_TABLE_ID': '135621904',
    'HUBDB_PATHWAYS_TABLE_ID': '135381504',
    'HUBDB_COURSES_TABLE_ID': '135381433',
    'HUBDB_CATALOG_TABLE_ID': '136199186',
    'DEFAULT_SOCIAL_IMAGE_URL': 'https://hedgehog.cloud/hubfs/social-share-default.png',
    'ENABLE_CRM_PROGRESS': true,
    'LOGOUT_URL': '/_hcms/mem/logout',
    'LOGIN_URL': '/_hcms/mem/login',
    'AUTH_LOGIN_URL': 'https://hvoog2lnha.execute-api.us-west-2.amazonaws.com/auth/login',
    'AUTH_ME_URL': 'https://hvoog2lnha.execute-api.us-west-2.amazonaws.com/auth/me',
    'AUTH_LOGOUT_URL': 'https://hvoog2lnha.execute-api.us-west-2.amazonaws.com/auth/logout',
    'TRACK_EVENTS_ENABLED': true,
    'TRACK_EVENTS_URL': 'https://hvoog2lnha.execute-api.us-west-2.amazonaws.com/events/track',
    'ACTION_RUNNER_URL': '/learn/action-runner'
  } %}
  {% set social_image = constants.DEFAULT_SOCIAL_IMAGE_URL if constants else "https://hedgehog.cloud/hubfs/social-share-default.png" %}

  <title>Register for Hedgehog Learn - Create Your Account</title>
  <meta name="description" content="Join Hedgehog Learn to access all our AI networking courses, track your progress, and earn certifications.">
  <link rel="canonical" href="https://{{ request.domain }}/learn/register">

  {# Open Graph tags #}
  <meta property="og:type" content="website">
  <meta property="og:title" content="Register for Hedgehog Learn">
  <meta property="og:description" content="Join Hedgehog Learn to access all our AI networking courses and track your progress.">
  <meta property="og:url" content="https://{{ request.domain }}/learn/register">
  <meta property="og:image" content="{{ social_image }}">

  {# Twitter Card tags #}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Register for Hedgehog Learn">
  <meta name="twitter:description" content="Join Hedgehog Learn to access all our AI networking courses.">
  <meta name="twitter:image" content="{{ social_image }}">
{% endblock head %}

{% block body %}
<main id="main-content">
  <section class="registration-hero">
    <div class="registration-hero-content">
      <h1 class="registration-title">Join Hedgehog Learn</h1>
      <p class="registration-subtitle">Create your account to access courses, track progress, and earn certifications</p>
    </div>
  </section>

  <section class="registration-section">
    <div class="registration-container">
      <div class="registration-layout">
        {# Benefits sidebar #}
        <aside class="registration-benefits">
          <h2>What You'll Get</h2>
          <ul class="benefits-list">
            <li>
              <span class="benefit-icon" aria-hidden="true">üìö</span>
              <div class="benefit-content">
                <h3>Full Course Access</h3>
                <p>Unlimited access to all modules, courses, and pathways</p>
              </div>
            </li>
            <li>
              <span class="benefit-icon" aria-hidden="true">üìä</span>
              <div class="benefit-content">
                <h3>Progress Tracking</h3>
                <p>Track your learning journey and see what you've completed</p>
              </div>
            </li>
            <li>
              <span class="benefit-icon" aria-hidden="true">üèÜ</span>
              <div class="benefit-content">
                <h3>Earn Certifications</h3>
                <p>Get recognized for your achievements with certificates</p>
              </div>
            </li>
            <li>
              <span class="benefit-icon" aria-hidden="true">üéØ</span>
              <div class="benefit-content">
                <h3>Personalized Recommendations</h3>
                <p>Discover content tailored to your interests and skill level</p>
              </div>
            </li>
          </ul>
        </aside>

        {# Registration form #}
        <div class="registration-form-container">
          <h2>Create Your Account</h2>

          {# HubSpot Form Embed #}
          <div id="registration-form">
            {# Form will be injected here by HubSpot #}
          </div>

          <script>
            hbspt.forms.create({
              region: "na1",
              portalId: "21430285",
              formId: "b2fd98ff-2055-41b2-85a0-0f497e798087",
              target: "#registration-form",
              onFormSubmit: function($form) {
                console.log('Registration form submitted successfully');
              },
              onFormReady: function($form) {
                console.log('Registration form loaded and ready');
              }
            });
          </script>

          <div class="registration-footer">
            <p>Already have an account?
              {#
                Issue #327 Fix: Inline constants instead of using request_json (which doesn't exist in HubL)
                HubL cannot fetch/parse JSON files server-side, so we inline the values directly.
                Source: clean-x-hedgehog-templates/config/constants.json
              #}
              
              {% set login_url = constants.LOGIN_URL|default('/_hcms/mem/login') if constants else '/_hcms/mem/login' %}
              <a href="{{ login_url }}?redirect_url=/learn">Sign in here</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock body %}
